<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>3D Model Viewer</title>
<style>
    body { margin: 0; background: white; overflow: hidden; }
    canvas { display: block; }
</style>
<script src="https://cdn.jsdelivr.net/npm/three@0.162.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.162.0/examples/js/loaders/GLTFLoader.js"></script>
</head>
<body>

<script>
let scene = new THREE.Scene();
scene.background = new THREE.Color(0xffffff);

let camera = new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.set(0, 1.5, 3);

let renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.shadowMap.enabled = true;
document.body.appendChild(renderer.domElement);

let ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
scene.add(ambientLight);

let directionalLight = new THREE.DirectionalLight(0xffffff, 1);
directionalLight.position.set(3, 5, 3);
directionalLight.castShadow = true;
scene.add(directionalLight);

let ground = new THREE.Mesh(
    new THREE.PlaneGeometry(10, 10),
    new THREE.ShadowMaterial({ opacity: 0.2 })
);
ground.rotation.x = -Math.PI / 2;
ground.receiveShadow = true;
scene.add(ground);

let model;
let targetRotation = { x: 0, y: 0 };
let loader = new THREE.GLTFLoader();
loader.load(
    'https://raw.githubusercontent.com/RichardSavageVoice/my-3d-model-site/main/BlenderLogov6.glb', // This file should be in the SAME folder as index.html
    function (gltf) {
        model = gltf.scene;
        model.traverse(function (child) {
            if (child.isMesh) {
                child.castShadow = true;
                child.receiveShadow = true;
            }
        });
        scene.add(model);
    },
    undefined,
    function (error) {
        console.error('Error loading model:', error);
    }
);

let lastMouseMoveTime = Date.now();
document.addEventListener('mousemove', (event) => {
    lastMouseMoveTime = Date.now();
    let mouseX = (event.clientX / window.innerWidth) * 2 - 1;
    let mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
    targetRotation.y = mouseX * 0.5;
    targetRotation.x = mouseY * 0.2;
});

document.addEventListener('click', () => {
    if (model) {
        model.position.x += (Math.random() - 0.5) * 0.3;
        model.position.z += (Math.random() - 0.5) * 0.3;
    }
});

document.addEventListener('wheel', (event) => {
    camera.position.z += event.deltaY * 0.003;
    camera.position.z = Math.max(1, Math.min(camera.position.z, 5));
});

window.addEventListener('resize', () => {
    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();
    renderer.setSize(window.innerWidth, window.innerHeight);
});

function animate() {
    requestAnimationFrame(animate);
    if (model) {
        model.rotation.x += (targetRotation.x - model.rotation.x) * 0.05;
        model.rotation.y += (targetRotation.y - model.rotation.y) * 0.05;
        if (Date.now() - lastMouseMoveTime > 2000) {
            model.rotation.y += 0.0005; // slow spin
        }
    }
    renderer.render(scene, camera);
}
animate();
</script>

</body>
</html>


